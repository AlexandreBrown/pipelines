name: Katib - Launch Experiment
description: Katib Experiment launcher
inputs:
- {name: experiment_name,            type: String,       default: '',        description: 'Experiment name'}
- {name: experiment_namespace,       type: String,       default: anonymous, description: 'Experiment namespace'}
- {name: experiment_spec,            type: JsonObject,   default: '{}',      description: 'Experiment specification in dict format'}
- {name: experiment_timeout_minutes, type: Integer,      default: 1440,      description: 'Time in minutes to wait for the Experiment to complete'}
- {name: delete_finished_experiment, type: Bool,         default: 'True',    description: 'Whether to delete the Experiment after it is finished'}
outputs:
- {name: best_parameter_set,         type: JsonObject,                       description: 'The hyperparameter set of the best Experiment Trial'}
implementation:
  container:
    image: docker.io/kubeflowkatib/kubeflow-pipelines-launcher
    command: [python, src/launch_experiment.py]
    args: [
      --experiment-name,            {inputValue: experiment_name},
      --experiment-namespace,       {inputValue: experiment_namespace},
      --experiment-spec,            {inputValue: experiment_spec},
      --experiment-timeout-minutes, {inputValue: experiment_timeout_minutes},
      --delete-after-done,          {inputValue: delete_finished_experiment},
      --output-file,                {outputPath: best_parameter_set},
    ]
